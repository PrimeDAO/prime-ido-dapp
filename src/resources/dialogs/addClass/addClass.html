<template>
  <ux-dialog class="dialog addClass">
    <ux-dialog-header>
      ${model.params.isEdit ? "Edit class" : "Add class"}
      <span>
        <button class="button1 small" style="padding: 0 5px;" if.bind="isDev" click.delegate="fillDummyValues()">Prefill Fields</button>
      </span>
      <i class="close-icon fas fa-times" click.trigger="controller.cancel()"></i>
      <label class="label--small">
        Please add the Classes to set different parameters for different kind of contributors to the Seed.
      </label>
    </ux-dialog-header>
    <ux-dialog-body>
      <div class="body add-class-container">

          <div class="info-section with-counter">
            <div class="label--question">
              <label>Class Name</label>
              <div class="question-mark">
                <question-mark text="TODO: Add text"></question-mark>
              </div>
              <span>
                ${class.className.length || 0}/50
              </span>
            </div>
            <input id="className" maxlength="50" value.bind="class.className"/>
          </div>

          <div class="info-section">
            <div class="label">
              <label>Contributor class purchase limit</label>
            </div>
            <label for="classCap" class="label--small">
              The maximum amount of contribution the allowlisted users within one class can contribute to the launch.
            </label>
            <numeric-input name="classCap" value.bind="class.classCap"></numeric-input>
          </div>

          <div class="info-section">
            <div class="label">
              <label>Project token purchase limit</label>
            </div>
            <label for="individualCap" class="label--small">
              You can only change the vesting-period.
            </label>
            <numeric-input name="individualCap" value.bind="class.individualCap"></numeric-input>
          </div>

          <div class="info-section">
            <div class="label--question">
              <label>Vesting Set-up</label>
              <div class="question-mark">
                <question-mark text="TODO: Add text"></question-mark>
              </div>
            </div>
            <div class="info-block">
              <!-- Start time is not yet supported -->
              <!-- <div>
                <label class="label--small">Vesting Start Time</label>
                <div class="vestingDatesContainer">
                  <div class="vestingDates">
                    <input
                      id="startTime"
                      value.bind="startTime"
                      class="input-style"
                      keydown.delegate="hoursMinutesFilter($event)"
                      autocomplete="off" />
                    <div class="inputIcon"><i class="far fa-clock"></i></div>
                  </div>
                </div>
              </div> -->
              <div>
                <label class="label--small">Token vested for</label>
                <div class="vesting-period">
                  <numeric-input
                    placeholder="100.2"
                    id="classVestingDuration"
                    not-wei
                    value.bind="class.classVestingDuration | secondsDays | ethwei">
                  </numeric-input>
                  <div>days</div>
                </div>
              </div>
              <div>
                <label class="label--small">with a cliff of</label>
                <div class="vesting-period">
                  <numeric-input
                    placeholder="20.8"
                    id="classVestingCliff"
                    not-wei
                    value.bind="class.classVestingCliff | secondsDays | ethwei">
                  </numeric-input>
                  <div>days</div>
                </div>
              </div>
            </div>
          </div>

          <div class="infoInput csvList">
            <div class="csvUploadInputContainer">
              <div class="label--question">
                <label>Allowlist (Optional)</label>
                <div class="question-mark">
                  <question-mark text="TODO: Add text"></question-mark>
                </div>
              </div>
              <label class="label--small">Choose a .csv file to import your allowlist.</label>
              <span class="inlineWrapper">
                <label class="csvInputWrapper">
                  <input class="footer-input"
                  id="allowList"
                  type="file"
                  accept=".csv"
                  files.bind="csv"
                  placeholder="Upload your .csv allowlist..." />
                </label>
                <span>${csv ? csv[0].name : 'No File Chosen'}</span>
              </span>
            </div>
          </div>
        </div>
    </ux-dialog-body>
    <ux-dialog-footer>
      <div class="button-container">
        <div class="delete-button" show.bind="model.params.isEdit">
          <div class="delete-button__text">delete</div>
          <img src="../../../../static/trash.svg" class="delete-button__icon" />
        </div>
        <button class="button1 small" ref="okButton" click.delegate="save()">Save</button>
      </div>
    </ux-dialog-footer>
  </ux-dialog>
</template>
