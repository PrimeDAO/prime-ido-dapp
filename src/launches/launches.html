<template>
  <require from="./launchCell.html"></require>
  <div class="page animated-page au-animate launches">
    <div if.to-view="featuredSeeds.length" class="section featured">
      <div class="title heading heading1">Featured</div>
      <div class="launches">
        <horizontal-scroller item-count.to-view="featuredSeeds.length">
          <launch-summary repeat.for="seed of featuredSeeds" address.to-view="seed.address"></launch-summary>
        </horizontal-scroller>
      </div>
    </div>
    <div class="section launches">
      <div class="title heading heading1">Launches</div>
      <div class="grid launchGrid">
        <div class="row header">
          <div class="cell pair header">PAIR</div>
          <div class="cell project header">PROJECT</div>
          <div class="cell type header">TYPE</div>
          <div class="cell starts header">STARTS</div>
          <div class="cell target header">TARGET</div>
          <div class="cell cap header">MAX</div>
          <div class="cell whitelist header">WHITELIST</div>
          <div class="cell cap header">ETHERSCAN</div>
        </div>
        <template repeat.for="seed of seeds">
          <a class="row body ${seed.canGoToDashboard ? 'hot' : '' }" if.to-view="!seed.initializing && (($index < 4) || seeingMore)" href.to-view="seed.canGoToDashboard ? `seed/${seed.address}` : 'launches'">
            <launchCell seed.to-view="seed" cell-class="pair" index.to-view="$index">
              <token-pair token1.to-view="seed.seedTokenInfo.icon" token2.to-view="seed.fundingTokenInfo.icon"></token-pair>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="project" index.to-view="$index">${seed.metadata.general.projectName}</launchCell>
            <launchCell seed.to-view="seed" cell-class="type" index.to-view="$index">SEED</launchCell>
            <launchCell seed.to-view="seed" cell-class="starts" index.to-view="$index">
              <time-left seed.to-view="seed" hide-icons largest></time-left>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="target" index.to-view="$index">$ <formatted-number average mantissa="2" value.to-view="seed.target | ethwei"></formatted-number>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="cap" index.to-view="$index">$ <formatted-number average mantissa="2" value.to-view="seed.cap | ethwei"></formatted-number>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="whitelist" index.to-view="$index"><span if.to-view="seed.whitelisted" class="fa fa-check"></span><span else>&nbsp;</span></launchCell>
            <launchCell seed.to-view="seed" cell-class="eslink" index.to-view="$index" nothot="true">
              <etherscanlink address.to-view="seed.address" text.to-view="seed.address | smallHexString"></etherscanlink>
            </launchCell>
          </a>
        </template>
      </div>
      <div class="grid launchGridMobile">
        <div class="row header">
          <div class="cell pair header">PAIR</div>
          <div class="cell type header">TYPE</div>
          <div class="cell target header">TARGET</div>
          <div class="cell whitelist header">WHITELIST</div>
          <div class="cell project header">PROJECT</div>
          <div class="cell starts header">STARTS</div>
          <div class="cell cap header">MAX</div>
          <div class="cell cap header">ETHERSCAN</div>
        </div>
        <template repeat.for="seed of seeds">
          <a class="row body ${seed.canGoToDashboard ? 'hot' : '' }" if.to-view="!seed.initializing && (($index < 4) || seeingMore)" href.to-view="seed.canGoToDashboard ? `seed/${seed.address}` : 'launches'">
            <launchCell seed.to-view="seed" cell-class="pair" index.to-view="$index">
              <token-pair token1.to-view="seed.seedTokenInfo.icon" token2.to-view="seed.fundingTokenInfo.icon"></token-pair>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="type" index.to-view="$index">SEED</launchCell>
            <launchCell seed.to-view="seed" cell-class="target" index.to-view="$index">$ <formatted-number average mantissa="2" value.to-view="seed.target | ethwei"></formatted-number>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="whitelist" index.to-view="$index"><span if.to-view="seed.whitelisted" class="fa fa-check"></span><span else>&nbsp;</span></launchCell>
            <launchCell seed.to-view="seed" cell-class="project" index.to-view="$index">${seed.metadata.general.projectName}</launchCell>
            <launchCell seed.to-view="seed" cell-class="starts" index.to-view="$index">
              <time-left seed.to-view="seed" hide-icons largest></time-left>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="cap" index.to-view="$index">$ <formatted-number average mantissa="2" value.to-view="seed.cap | ethwei"></formatted-number>
            </launchCell>
            <launchCell seed.to-view="seed" cell-class="eslink" index.to-view="$index" nothot="true">
              <etherscanlink address.to-view="seed.address" text.to-view="seed.address | smallHexString"></etherscanlink>
            </launchCell>
          </a>
        </template>
      </div>
      <div if.to-view="!seeingMore" class="seeMore">
        <div class="arrow">&darr;</div>
        <div class="text" click.delegate="seeMore(true)">SEE ALL</div>
      </div>
      <div if.to-view="seeingMore" class="seeMore">
        <div class="arrow">&uarr;</div>
        <div class="text" click.delegate="seeMore(false)">SEE A FEW</div>
      </div>
    </div>
  </div>
</template>
