<template>
  <require from="resources/elements/circledNumber/circledNumber.html"></require>
  <require from="./launch.scss"></require>

  <div class="newLaunchContainer ${currentStage.name}">
    <div class="currentStageSidebar" ref="sideBar">
      <template repeat.for="stage of router.navigation">
        <div
          class="currentstage ${stage.isActive ? 'active' : ''}"
          click.delegate="setStage(stage.config.route)">
          <div class="stagesNumber ${stage.isActive ? 'stageActive' : ''}">
            <circled-number
              number.bind="$index + 1"
              check-mark.to-view="stageStates[$index + 1].verified"
              active.bind="stage.isActive"></circled-number>
              <div
                  if.bind="$index + 2 <= router.navigation.length"
                  class="timeLine">
              <div class="line"></div>
                  <div></div>
              </div>
          </div>
            <div class="title">${stage.config.title}</div>
        </div>
      </template>
    </div>
    <div>
      <router-view></router-view>
    </div>
  </div>
</template>
