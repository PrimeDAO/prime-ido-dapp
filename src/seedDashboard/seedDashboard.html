<template>
  <div class="page animated-page au-animate seedDashboardContainer">
    <div show.to-view="!loading" class="seedDashboard">
      <div class="leftColumn">
        <div class="intro">
          <div class="leftSection">
            <div class="header">
              <div class="title heading heading2">PrimeDAO</div>
              <div class="timeLeft">
                <time-left starts-in-milliseconds.to-view="seed.startsInMilliseconds" is-active.to-view="seed.isActive"></time-left>
              </div>
            </div>
            <div class="description subtext">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut
              pretium pretium tempor. Ut eget imperdiet neque. In volutpat
              ante semper diam molestie, et aliquam.</div>
          </div>
          <div class="rightSection">
            <div class="label">TIME LEFT</div>
            <div class="timeLeft">16:34hr</div>
          </div>
        </div>
        <!--
          ================ 
          Section One
          ================ 
        -->
        <div if.to-view="!connected" class="secton section1">
          <div class="description">Check eligibility</div>
          <div class="help">
            <question-mark text="Check eligibility"></question-mark>
          </div>
          <div class="subdescription subtext">Connect your wallet to contribute and claim rewards.</div>
          <div class="doit"><button class="button1" click.delegate="connect()">CONNECT</button></div>
        </div>
        <!--
          ================ 
          Section Two
          ================ 
        -->
        <div if.to-view="connected && seed.userIsWhitelisted" class="secton section2">
          <div class="description">Contribute</div>
          <div class="help">
            <question-mark text="Contribute"></question-mark>
          </div>
          <div class="form">
            <div class="input">
              <numeric-input value.two-way="fundingTokenToPay" placeholder="0.0"></numeric-input>
            </div>
            <div class="units1">
              <div class="container">
                <div class="token">${seed.fundingTokenInfo.symbol}</div>
                <div class="subsection subtext">Balance: <tokenbalance
                    token-address.to-view="seed.fundingTokenAddress">
                  </tokenbalance>
                </div>
              </div>
            </div>
            <div class="equals">=</div>
            <div class="output">${seedTokenReward}</div>
            <div class="units2">
              <div class="container">
                <div class="token">${seed.seedTokenInfo.symbol}</div>
                <div class="subsection subtext">$
                  <formatted-number
                    value.to-view="seedTokenRewardPrice"
                    average="false"
                    mantissa="2"
                    thousands-separated></formatted-number>
                </div>
              </div>
            </div>
            <div class="vestedMessage subtext">Tokens will vest for ${seed.vestingDuration} days with a cliff of ${seed.vestingCliff} days</div>
          </div>
          <div class="doit"><button class="submitButton button1">SUBMIT</button></div>
        </div>
        <!--
          ================ 
          Section Three
          ================ 
        -->
        <div if.to-view="connected && seed.userIsWhitelisted" class="secton section3">
          <div class="description">Claim tokens</div>
          <div class="help">
            <question-mark text="Claim tokens"></question-mark>
          </div>
          <div class="form">
            <div class="input">
              <numeric-input value.two-way="seedTokenToPay" placeholder="0.0"></numeric-input>
            </div>
            <div class="units1">
              <div class="container">
                <div class="token">${seed.seedTokenInfo.symbol}</div>
                <div class="subsection subtext">Claimable: <formatted-number
                    value.to-view="seed.userClaimableAmount | ethwei"
                    average="false"
                    mantissa="2"
                    thousands-separated></formatted-number>
                </div>
              </div>
            </div>
            <div class="equals">=</div>
            <div class="output">${seedTokenToReceive}</div>
            <div class="units2">
              <div class="container">
                <div class="token">${seed.seedTokenInfo.symbol}</div>
                <div class="subsection subtext">Pending</div>
              </div>
            </div>
            <div class="vestedMessage subtext">Claiming opens in 2 days, 3 hours, 12 mins${seed.minimumReached ? '' : ', as long as the minimum is reached'}</div>
          </div>
          <div class="doit"><button class="submitButton button1 ${userCanClaim ? '' : 'hide'}" click.delegate="claim()">SUBMIT</button></div>
        </div>
        <div class="notWhitelisted" if.to-view="connected && !seed.userIsWhitelisted">
          Sorry, this Seed has a whitelist and your account has not been whitelisted. So using this account, you will not be able to participate.
        </div>
      </div>
      <div class="rightColumn">
        <div class="section topSection">
          <div class="tokenId">
            <div class="icon"><img src.to-view="seed.seedTokenInfo.icon"></img></div>
            <div class="name">${seed.seedTokenInfo.name}</div>
            <div class="symbol">(${seed.seedTokenInfo.symbol})</div>
          </div>
          <div ref="progressBar" class="progressBar">
            <div ref="bar" class="bar">&nbsp;</div>
          </div>
          <div class="raised">
            <div class="amount">$<formatted-number
                value.to-view="amountRaised | ethwei"
                thousands-separated></formatted-number>
            </div>
            <div class="denomination">USD raised</div>
            <div class="perc">
              <formatted-number
                value.to-view="fractionComplete * 100"
                average="false"
                mantissa="2"></formatted-number>%
            </div>
          </div>
        </div>
        <div class="section middleSection">
          <div class="label targetLabel">TARGET</div>
          <div class="value target">$ 1.5M</div>
          <div class="label maxLabel">MAX</div>
          <div class="value max">$ 2.5M</div>
          <div class="label valuationLabel">VALUATION</div>
          <div class="value valuation">$ 18M</div>
          <div class="label tokensleftLabel">TOKENS LEFT</div>
          <div class="value tokensleft">76%</div>
          <div class="label seedpriceLabel">SEED PRICE</div>
          <div class="value seedprice">$ 3.14</div>
          <div class="tokenpriceLabel">
            <token-pair token1.to-view="seed.seedTokenInfo.icon" token2.to-view="seed.fundingTokenInfo.icon"></token-pair>
          </div>
          <div class="value tokenprice">1 KOL = 10 DAI</div>
        </div>
        <div class="section bottomSection">
          <div class="title  heading heading3">About Kolektivo</div>
          <div class="body subtext">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</div>
          <div if.to-view="links.length" class="links">
            <a repeat.for="link of links" href.to-view="link.url" target="_blank" rel="noopener noreferrer">
              <div class="icon ${iconClassForLinkType(link.name)}"></div>
              <div class="name">${link.name}</div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
